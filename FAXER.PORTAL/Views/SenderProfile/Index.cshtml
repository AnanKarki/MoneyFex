@model FAXER.PORTAL.DB.FaxerInformation
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_New_Dashboard_Layout.cshtml";

    string[] IDExDate = Model.IdCardExpiringDate.ToString("dd/MM/yyyy").ToString().Split('/');
    //int day = Convert.ToInt32(IDExDate[0]);
    //int Month = Convert.ToInt32(IDExDate[1]);
    //int year = Convert.ToInt32(IDExDate[2]);
    string day = Model.IdCardExpiringDate == default(DateTime) ? "" : "*";
    string Month = Model.IdCardExpiringDate == default(DateTime) ? "" : "*";
    string year = Model.IdCardExpiringDate == default(DateTime) ? "" : "****";
    Model.FirstName = Model.FirstName + " " + Model.MiddleName + " " + Model.LastName;



}

@using (Html.BeginForm())
{
    <!--  -->
    <div class="real_form pattern2 pdt40 ">
        <div class="container">
            <div class="row">

                <div class="col-lg-8 col-lg-offset-2  ">

                    <div class="login_signup mb50 clearfix">

                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                <h3>Account Details  </h3>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                <h3 class=" ">Account Number : @Model.AccountNo</h3>
                            </div>
                        </div>
                        <div class="clearfix">	</div>
                        @Html.HiddenFor(x => x.AccountNo)
                        @Html.HiddenFor(x => x.DateOfBirth)

                        <hr>
                        <form>
                            <div class="col-lg-8 col-lg-offset-2  ">

                                @*<div class="form-group  text-center">

                                        <img src="~/Content/Images/logo-1.jpg" class="img-thumbnail" alt="Photo of MoneyFax Top-up Card User">
                                    </div>*@

                                <!--  -->

                                <div class="form-group  text-center">

                                    <a href="@Url.Action("IdentityVerificationTable","SenderProfile")" class="btn btn-primary">Identity Information</a>
                                </div>

                                <div class="form-group">
                                    <label> Name </label>
                                    @*<input name="" class="form-control" placeholder="" value="@Model.FirstName @Model.MiddleName @Model.LastName">*@
                                    @Html.TextBoxFor(model => model.FirstName, new { @class = "form-control", @type = "text", @placeholder = " ", @readonly = "readonly" })

                                </div>
                                <!--  -->
                                <!--  -->
                                <div class="form-group">
                                    <label> Date of Birth </label>
                                    @*<input type="text" name="" class="form-control" placeholder="" value=" @Model.DateOfBirth">*@
                                    @*@Html.TextBox("DOB", new { @class = "form-control", @type = "text", @placeholder = " ", @readonly = "readonly" })*@
                                    @Html.TextBox("DOB", (String)ViewBag.DOB, new { @class = "form-control", @type = "text", @placeholder = " ", @readonly = "readonly" })
                                </div>
                                <!--  -->
                                <!--  -->
                                <div class="form-group">

                                    <label> Address </label>
                                    @*<textarea name="" class="form-control" rows="4"> @Model.Address1 @Model.Address2  </textarea>*@
                                    @Html.TextAreaFor(model => model.Address1, new { @class = "form-control", @placeholder = " ", @rows = "4", @readonly = "readonly" })

                                </div>
                                <!--  -->
                                <!--  -->
                                <div class="form-group">
                                    <label> Country </label>
                                    @*<input type="text" name="" class="form-control" placeholder="" value="@Model.Country">*@
                                    @Html.TextBoxFor(model => model.Country, new { @class = "form-control", @type = "text", @placeholder = " ", @readonly = "readonly" })


                                </div>
                                <!--  -->
                                <!--  -->
                                <div class="form-group">
                                    <label> Mobile No. </label>
                                    @*<input type="text" name="" class="form-control" placeholder="" value="@Model.PhoneNumber">*@
                                    @Html.TextBoxFor(model => model.PhoneNumber, new { @class = "form-control", @type = "text", @placeholder = " ", @readonly = "readonly" })

                                </div>
                                <!--  -->

                                <div class="form-group">
                                    <label> Email Address </label>

                                    @*<input type="text" name="" class="form-control" placeholder="" value="@Model.Email">*@
                                    @Html.TextBoxFor(model => model.Email, new { @class = "form-control", @type = "text", @placeholder = " ", @readonly = "readonly" })

                                </div>

                                @*<div class="form-group">
                                        <hr>
                                        <h3>Identification Information</h3>
                                        <hr>
                                    </div>


                                    <div class="form-group">
                                        <label> ID Type </label>
                                        <input type="text" name="" class="form-control" placeholder="" value="@Model.IdCardType">
                                        @Html.TextBoxFor(model => model.IdCardType, new { @class = "form-control", @type = "text", @placeholder = " " })

                                    </div>


                                    <div class="form-group">
                                        <label> ID  Number </label>
                                        <input type="text" name="" class="form-control" placeholder=" " value="@Model.IdCardNumber">
                                        @Html.TextBoxFor(model => model.IdCardNumber, new { @class = "form-control", @type = "text", @placeholder = " " })

                                    </div>

                                    <div class="row">

                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label> Day </label>
                                                <input type="text" name="Day" class="form-control" placeholder="" Value="@day">
                                                @Html.TextBox("Day" , new { @class = "form-control", @type = "text", @placeholder = " " })

                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label> Month </label>
                                                @Html.TextBox("Month", new { @class = "form-control", @type = "text", @placeholder = " " })

                                                <input type="text" name="Month" class="form-control" placeholder="" value="@Month">

                                            </div>
                                        </div>


                                        <div class="col-lg-4">
                                            <div class="form-group">
                                                <label> Year </label>
                                                <input type="text" name="Year" class="form-control" placeholder="" value="@year">
                                                @Html.TextBox("Year", new { htmlAttributes = new { @class = "form-control", @type = "text", @placeholder = " " }})

                                            </div>
                                        </div>




                                    </div>


                                    <div class="form-group">
                                        <label> ID Issuing Country </label>
                                        <input type="text" name="" class="form-control" placeholder="" value="@Model.IssuingCountry">
                                        @Html.TextBoxFor(model => model.IssuingCountry, new { @class = "form-control", @type = "text", @placeholder = " " })

                                    </div>*@



                            </div>


                            <div class="clearfix"></div>
                            <hr>
                            <div class="text-center  clearfix">
                                <button type="submit" class="btn  btn-primary    radius-20 mb30">Update Details</button> &nbsp;&nbsp;&nbsp;
                                @*<a class="btn  btn-danger    radius-20 mb30" data-toggle="modal" data-target="#delete">Delete</a>*@
                                <!-- back btn -->
                                <div class="clearfix ">

                                    <center>
                                        <a href="javascript:history.back()" class=" "><i class="fa fa-chevron-left" aria-hidden="true"></i> Go Back </a>
                                    </center>
                                </div>
                                <!-- back btn end-->
                            </div>




                        </form>

                    </div>

                    <!--  -->

                </div>

            </div>
        </div>
    </div>




    if (ViewBag.IsPinCodeSend == 1)
    {
        <!-- KiiPay Confirmation -->
        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Access Code</h4>
                    </div>
                    <div class="modal-body uk-text-center ">
                        <div class="form-group">
                            <p class="mb0">Enter the code sent to your mobile number</p> <div class="clearfix"><br></div>

                            <input type="number" class="form-control" placeholder="Enter code" name="UserEnterPinCode" id="UserEnterPinCode">

                            @*@Html.TextBox("UserEnterPinCode", new { @class = "form-control", @placeholder = "Enter Code" })*@
                            @Html.Hidden("PinCode", new { id = "PinCode" })
                            <div class="text-center">
                                @Html.ValidationMessage("InvalidPinCode", "", new { @class = "text-danger", id = "InvalidPinCode" })

                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">

                        <a class="btn btn-primary btn-sm radius-20" onclick="Update()">Confirm</a>
                        <button type="button" class="btn btn-default btn-sm radius-20" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>
        <!-- KiiPay Confirmation end -->
    }

}

<!-- Delete Confirmation -->
<div id="delete" class="modal fade" role="dialog">
    <div class="modal-dialog modal-md text-center">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">  Confirmation</h4>
            </div>
            <div class="modal-body uk-text-center ">

                <h4 class="mt40"> Do you want to delete this KiiPay Wallet?</h4>
                <hr>
                <button type="button" class="btn btn-primary   radius-20" data-dismiss="modal">Yes</button>&nbsp;&nbsp;&nbsp;
                <button type="button" class="btn btn-default   radius-20" data-dismiss="modal">No</button>
            </div>

        </div>

    </div>
</div>
<!-- Delete Confirmation end -->


@section Scripts{

    <script type="text/javascript">

        function Update() {
            debugger;
            var userpincode = $("#UserEnterPinCode").val();
            var pincode = $("#PinCode").val();

            if (userpincode == "" || userpincode == null || userpincode == undefined) {

                $("#InvalidPinCode").text("Enter a code");

            }
            else if (userpincode != pincode) {

                $("#InvalidPinCode").text("Enter a valid code");
            } else {

                window.location.href = "/SenderProfile/SenderProfileEdit?PinCode=" + userpincode;
            }
        }
        $("#myModal").modal('show');
        $("#PinCode").val('@ViewBag.PinCode');
    </script>
}