@model FAXER.PORTAL.Areas.Agent.Models.AgentWithdrawViewModel
@{
    ViewBag.Title = "CashWithdrawalByAgent";
    Layout = "~/Areas/Agent/Views/Shared/_New_Agent_Layout.cshtml";
}

@using (Html.BeginForm())
{


    <!--  -->
    <div class="dynamic_bg_form">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">

                    <h1>Withdrawal by Agent</h1>
                </div>
            </div>
        </div>
    </div>
    <!--  -->
    <!--  -->
    <div class="real_form">
        <div class="container">
            <div class="row">
                <!-- start -->

                <div class="col-lg-7">

                    <p>
                        Please use this option to pay money directly into MoneyFex's Bank Account provided to you.
                        Only complete this form after Payment has been made into the Account.
                    </p>

                    <p>
                        <b>Withdrawal Details:</b><br><br>Reference your payment as follows:<br>
                        <i>AW-(your agent MoneyFex 10 digits account number) e.g. AW-123456789</i>
                    </p>
                    <div class=" row ">
                        <!--  -->
                        <div class="form-group  col-lg-6">
                            <label>Agent Name</label>
                            @Html.TextBoxFor(model => model.AgentName, new { @class = "form-control", @readonly = "readonly", @placeholder = "Agent name here" })

                        </div>
                        <!--  -->
                        <!--  -->
                        <div class="form-group col-lg-6 ">
                            <label>Agent Account Number</label>
                            @Html.TextBoxFor(model => model.AgentAccountNumber, new { @class = "form-control", @readonly = "readonly", @placeholder = "Agent account number here" })


                        </div>
                        <!--  -->
                        <!--  -->
                        <div class="form-group  col-lg-6">

                            <label>Enter Agent staff Name</label>
                            @Html.TextBoxFor(model => model.AgentStaffName, new { @class = "form-control", @placeholder = "Enter agent staff name here" , @readonly= "readonly" })
                            @Html.ValidationMessageFor(model => model.AgentStaffName, "", new { @class = "text-danger" })

                        </div>
                        <!--  -->
                        <!--  -->
                        <div class="form-group  col-lg-6">
                            <label>Enter withdrawal Amount</label>

                            @Html.TextBoxFor(model => model.WithdrawAmount, new { @class = "form-control", @placeholder = "Enter withdrawal amount here" })
                            @Html.ValidationMessageFor(model => model.WithdrawAmount, "", new { @class = "text-danger" })
                        </div>

                        <div class="form-group  col-lg-12">
                            <div class="checkbox">
                                <label>
                                    @Html.CheckBoxFor(model => model.ConfirmVerification) I confirm that payment has been made to MoneyFex's Bank Account by this Agent.

                                </label>
                            </div>
                            @Html.ValidationMessageFor(model => model.ConfirmVerification, "", new { @class = "text-danger" })
                        </div>

                        <div class="col-lg-12 text-right">
                            <button type="submit" class="btn btn-primary">Confirm Withdrawal</button>
                        </div>
                    </div>
                </div>



                <div class="clearfix"></div>
            </div>
            <!-- end -->


        </div>
    </div>
}

@section Scripts{

    <script type="text/javascript">

        var result = '@ViewBag.TransactionSuccessul';
        var transactionId = '@ViewBag.TransactionId';
        var IsWithdrawalByAgent = '@ViewBag.IsWithdrawalByAgent';

        if (result == 1) {
      
             var IsWithdrawalByAgent = '@ViewBag.IsWithdrawalByAgent';
            window.open("/Agent/CashWithdrawal/PrintCashWithdrawalReceipt?transactionId=" + transactionId + "&IsWithdrawalByAgent=" + IsWithdrawalByAgent, '_blank');
        }
    </script>
}
