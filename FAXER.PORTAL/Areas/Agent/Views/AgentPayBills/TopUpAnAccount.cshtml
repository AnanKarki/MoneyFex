@model FAXER.PORTAL.Areas.Agent.Models.TopUpAnAccountViewModel

@{
    ViewBag.Title = "TopUpAnAccount";
    Layout = "~/Areas/Agent/Views/Shared/_New_Agent_Layout.cshtml";
}


@using (Html.BeginForm())
{
    <!--  -->
    <div class="real_form pattern2 pdt40 ">
        <div class="container">

            <div class="row">

                <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 ">


                    <div class="login_signup mb50 clearfix ">
                        <h3>Top-up an Account</h3>
                        <hr>
                        <!--  -->
                        <div class="form-group mb30">
                            <label>Country</label>
                            @Html.DropDownListFor(model => model.Country, (IEnumerable<SelectListItem>)ViewBag.Countries, "Select Country", new { @class = "form-blue", id = "Country", @onchange = "FilterSuppliers()" })
                            @Html.ValidationMessageFor(model => model.Country, "", new { @class = "text-danger" })


                        </div>
                        <!--  -->
                        <!--  -->
                        <div class="form-group mb30">
                            <label>Supplier</label>
                            @Html.DropDownListFor(model => model.SupplierId, (IEnumerable<SelectListItem>)ViewBag.Suppliers, "Select Supplier", new { @class = "form-blue", @id = "SupplierId" })
                            @Html.ValidationMessageFor(model => model.SupplierId, "", new { @class = "text-danger" })


                        </div>
                        <!--  -->
                        <!--  -->
                        <div class="form-group mb30">
                            <label>Account Number</label>
                            @Html.TextBoxFor(model => model.AccountNo, new { @class = "form-blue", @placeholder = "Enter Customer's Account Number", @id = "Accountno" })
                            @Html.ValidationMessageFor(model => model.AccountNo, "", new { @class = "text-danger" })


                        </div>
                        <!--  -->




                    </div>
                    <div class="clearfix"></div>


                    <div class="text-center   clearfix">
                        <hr>

                        <button type="submit" class="btn btn-primary btn-lg   ">Continue <i class="fa fa-chevron-right" aria-hidden="true"></i></button>
                        <div class="clearfix mb30"> </div>
                        <a href="@Url.Action("Index","AgentPayBills")"><i class="fa fa-chevron-left" aria-hidden="true"></i> Go Back </a>
                    </div>
                </div>

                <!--  -->

            </div>

        </div>
    </div>
}



@section Scripts{

    <script type="text/javascript">
      
        $('#SupplierId').on('change', function () {
            debugger;
            $('#Accountno').val(this.value);
        });


        function FilterSuppliers() {
           
            var countryCode = $("#Country").val();
            window.location.href = "/Agent/AgentPayBills/TopUpAnAccount?country=" + countryCode;
        }
    </script>
}
