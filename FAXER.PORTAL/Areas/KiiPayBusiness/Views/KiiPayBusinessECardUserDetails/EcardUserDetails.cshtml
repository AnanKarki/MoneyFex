@model FAXER.PORTAL.Areas.KiiPayBusiness.ViewModels.KiiPayECardUserDetailsVm
@{
    ViewBag.Title = "EcardUserDetails";
    Layout = "~/Areas/KiiPayBusiness/Views/Shared/_Layout_KiiPayBusiness.cshtml";
}

@using (Html.BeginForm("DeleteEcardUser", "KiiPayBusinessECardUserDetails"))
{
    <!--  -->
    <div class="real_form pattern2 pdt40 ">
        <div class="container">
            <div class="row">

                <div class="col-lg-8 col-lg-offset-2  ">

                    <div class="login_signup mb50 clearfix">
                        <h3> KiiPay User Details </h3>
                        <hr>


                        <form>
                            <div class="col-lg-8 col-lg-offset-2  ">
                                <!--  -->
                                <div class="form-group">
                                    @Html.DropDownListFor(model => model.Wallet, (IEnumerable<SelectListItem>)ViewBag.Wallet, "Select Wallet", new { @class = "form-control", @OnChange = "GetEcardUserInfo()", id = "WalletID" })
                                </div>
                                <!--  -->
                                <div class="form-group  text-center">

                                    <img src="~/Areas/KiiPayBusiness/images/logo.png" class="img-thumbnail" alt="Photo of MoneyFax Top-up Card User">
                                </div>

                                <!--  -->
                                <div class="form-group">
                                    <label> Name </label>
                                    @Html.TextBoxFor(model => model.Name, new { @type = "text", @class = "form-control" })
                                </div>
                                <!--  -->
                                <!--  -->
                                <div class="form-group">
                                    <label> Date of Birth </label>
                                    @Html.TextBoxFor(model => model.DateOfBirth, new { @type = "text", @class = "form-control" })
                                </div>
                                <!--  -->
                                <!--  -->
                                <div class="form-group">
                                    <label> Address </label>
                                    @Html.TextBoxFor(model => model.Address, new { @type = "text", @class = "form-control" })
                                </div>
                                <!--  -->
                                <!--  -->
                                <div class="form-group">
                                    <label> Country </label>
                                    @Html.TextBoxFor(model => model.Country, new { @type = "text", @class = "form-control" })
                                </div>
                                <!--  -->
                                <!--  -->
                                <div class="form-group">
                                    <label> Phone No. </label>
                                    @Html.TextBoxFor(model => model.PhoneNo, new { @type = "text", @class = "form-control" })
                                </div>
                                <!--  -->
                                <!--  -->
                                <div class="form-group">
                                    <label> Email Address </label>
                                    @Html.TextBoxFor(model => model.EmailAddress, new { @type = "text", @class = "form-control" })
                                </div>
                                <!--  -->
                                <div class="form-group">
                                    <hr>
                                    <h3>Identification Information</h3>
                                    <hr>
                                </div>

                                <!--  -->
                                <div class="form-group">
                                    <label> ID Card Type </label>
                                    @Html.TextBoxFor(model => model.IDCardType, new { @type = "text", @class = "form-control" })
                                </div>
                                <!--  -->
                                <!--  -->
                                <div class="form-group">
                                    <label> ID Card Number </label>
                                    @Html.TextBoxFor(model => model.IDCardNumber, new { @type = "text", @class = "form-control" })
                                </div>
                                <!--  -->

                                <div class="row">
                                    <!--  -->
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label> Day </label>
                                            @Html.TextBoxFor(model => model.ExpiringDateDay, new { @type = "text", @class = "form-control" })
                                        </div>
                                    </div>
                                    <!--  -->
                                    <!--  -->
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label> Month </label>
                                            @Html.TextBoxFor(model => model.ExpiringDateMonth, new { @type = "text", @class = "form-control" })
                                        </div>
                                    </div>
                                    <!--  -->
                                    <!--  -->
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label> Year </label>
                                            @Html.TextBoxFor(model => model.ExpiringDateYear, new { @type = "text", @class = "form-control" })
                                        </div>
                                    </div>
                                    <!--  -->


                                </div>

                                <!--  -->
                                <div class="form-group">
                                    <label> ID Issuing Country </label>
                                    @Html.TextBoxFor(model => model.IDIssuingCountry, new { @type = "text", @class = "form-control" })
                                </div>
                                <!--  -->


                            </div>


                            <div class="clearfix"></div>
                            <hr>
                            <div class="text-center  clearfix">
                                <btn onclick="UpdateEcardUserInfo()" class="btn  btn-primary    radius-20 mb30">Update Details</btn>&nbsp;&nbsp;&nbsp;
                                <a class="btn  btn-danger    radius-20 mb30" data-toggle="modal" data-target="#delete">Delete</a>
                                <!-- back btn -->
                                <div class="clearfix ">

                                    <center>
                                        <a href="javascript:history.back()" class=" "><i class="fa fa-chevron-left" aria-hidden="true"></i> Go Back </a>
                                    </center>
                                </div>
                                <!-- back btn end-->
                            </div>




                        </form>

                    </div>

                    <!--  -->

                </div>

            </div>
        </div>
    </div>

    <!-- Delete Confirmation end -->




    <!-- Delete Confirmation -->
    <div id="delete" class="modal fade" role="dialog">
        <div class="modal-dialog modal-md text-center">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">  Confirmation</h4>
                </div>
                <div class="modal-body uk-text-center ">

                    <h4 class="mt40"> Do you want to delete this User ?</h4>
                    <hr>
                    <button type="submit" class="btn btn-primary   radius-20" data-dismiss="modal">Yes</button>&nbsp;&nbsp;&nbsp;
                    <button type="button" class="btn btn-default   radius-20" data-dismiss="modal">No</button>
                </div>

            </div>

        </div>
    </div>

}
<script>
    function GetEcardUserInfo() {

        var WalletId = $("#WalletID").val();
        $.getJSON("/KiiPayBusiness/KiiPayBusinessECardUserDetails/GetWalletInfo?Id=" + WalletId, function (data) {

            for (var item in data) {
                var selector = '[name="' + item + '"]';
                $(selector).val(data[item]);
                $(selector).prop('readonly', 'readonly');

            }
        })

    };
    function UpdateEcardUserInfo() {

        var WalletId = $("#WalletID").val();
        window.location.href = "/KiiPayBusiness/KiiPayBusinessECardUserDetails/UpdateEcardUserDetails?WalletId=" + WalletId;

    };
</script>